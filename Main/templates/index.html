{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'Main/style.css' %}">

<h1><a href="/r/all/"> Reddit Emerald </a></h1>
<div>
{% if user.is_authenticated %}
    <b>Hello, {{ user }}!</b>
    <br>
    <h4><a href="/">My Subscriptions</a></h4>
    <a href="/accounts/logout/">Logout</a>
{% else %}
    <a href="/accounts/login/">Login</a>
{% endif %}
</div>

<!-- Search bar would go here followed by filters beneath it -->
{% if subreddit %}
    <h3><a href="subscribe/"> {{ subreddit }} </a></h3>
{% endif %}
<h3><a href="/AddSubreddit/">Create Subreddit</a></h3>
<h3><a href="/AddPost/">Create Post</a></h3>
{% for p in posts %}

<div class="card border-primary">
    <p class="card header border-primary" id="vote-score">{{ p.votes }}</p>
<div class="card-body d-flex flex-column align-items-start">
    {% if is_mod %} <a href="/delete/post/{{ p.id }}/"> Mod Delete</a> {% endif %}
    <h4 class="card-title text-primary"><a href="/r/{{ p.subreddit_parent }}/"> r/{{ p.subreddit_parent }} </a>
        | <a href="/u/{{ p.user_posted }}/"> {{ p.user_posted }} </a>
    </h4>
	<h4 class="card-title text-primary"><a href="/post/{{ p.id }}/"> {{ p.title }}</a></h4>
	<p class="card-text">{{ p.content }}</p>
	<a href="/upvote/post/{{ p.id }}/" class="btn btn-primary mt-auto">Upvote</a>
    <br>
    <a href="/downvote/post/{{ p.id }}/" class="btn btn-primary mt-auto">Downvote</a>
</div>
</div>

{% endfor %}